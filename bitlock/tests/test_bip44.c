#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "h5ses.h"
#include "libbtc/btc/bip32.h"


void test_bip44_0(){
	const unsigned char seed[] = {0x7A,0xC4,0xB8,0x49,0xE6,0x0C,0xBF,0x8F,0x62,0x7A,0x5A,0xC8,0xD5,0x22,0x0B,0xC6, 
								  0x07,0x88,0x84,0x8E,0x3B,0x52,0x18,0x4A,0xAE,0x8F,0xC8,0xC5,0xD3,0x40,0x93,0x83,
								  0xED,0xE1,0xB0,0xDC,0xCE,0xC4,0x9C,0x08,0x27,0x91,0xA0,0x47,0x3A,0x62,0xE7,0xCF,
								  0x68,0x84,0x50,0xEE,0x3D,0xDC,0xD9,0xC6,0x8A,0x3B,0x30,0x13,0x0A,0xAA,0xB7,0x1E
	};
	const unsigned char btckey[] = "Bitcoin seed"; 
	unsigned char hmac[100];
	
	hmac_sha512(btckey, sizeof(btckey)-1, seed, sizeof(seed), &hmac);
	return;
}

const unsigned char seed[] = {0x7A,0xC4,0xB8,0x49,0xE6,0x0C,0xBF,0x8F,0x62,0x7A,0x5A,0xC8,0xD5,0x22,0x0B,0xC6, 
								  0x07,0x88,0x84,0x8E,0x3B,0x52,0x18,0x4A,0xAE,0x8F,0xC8,0xC5,0xD3,0x40,0x93,0x83,
								  0xED,0xE1,0xB0,0xDC,0xCE,0xC4,0x9C,0x08,0x27,0x91,0xA0,0x47,0x3A,0x62,0xE7,0xCF,
								  0x68,0x84,0x50,0xEE,0x3D,0xDC,0xD9,0xC6,0x8A,0x3B,0x30,0x13,0x0A,0xAA,0xB7,0x1E};

void test_bip44_1(){
	btc_hdnode HDNode;
	uint8_t signature[64];
	uint16_t siglen = sizeof(signature);
	btc_hdnode_from_seed(seed, sizeof(seed), &HDNode);
	btc_hdnode_private_ckd(&HDNode, (unsigned int)(0x80000000 + 44));
	btc_ecc_sign(&HDNode.private_key, seed, signature, &siglen);
	return;
}

